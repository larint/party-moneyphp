var _0x38a68c=_0x54bc;(function(_0x3b0ead,_0x263913){var _0x318b5b=_0x54bc,_0x4eb764=_0x3b0ead();while(!![]){try{var _0x61859=parseInt(_0x318b5b(0x1a8))/0x1*(parseInt(_0x318b5b(0x190))/0x2)+parseInt(_0x318b5b(0x173))/0x3*(parseInt(_0x318b5b(0x1bf))/0x4)+parseInt(_0x318b5b(0x1b4))/0x5+-parseInt(_0x318b5b(0x1b1))/0x6*(parseInt(_0x318b5b(0x180))/0x7)+-parseInt(_0x318b5b(0x1cb))/0x8+parseInt(_0x318b5b(0x16e))/0x9*(parseInt(_0x318b5b(0x1a3))/0xa)+-parseInt(_0x318b5b(0x1b5))/0xb;if(_0x61859===_0x263913)break;else _0x4eb764['push'](_0x4eb764['shift']());}catch(_0x5b7715){_0x4eb764['push'](_0x4eb764['shift']());}}}(_0x1294,0xa90c1));var mchart;function prfixnamesSelect(_0x765b5f,_0x20debe){var _0x17d07b=_0x54bc,_0x5220aa=_0x20debe[_0x17d07b(0x187)](':')[0x0],_0xb37126='';return _0x765b5f[_0x17d07b(0x1a1)](function(_0x2986aa){var _0x490f8b=_0x17d07b,_0x1d337b=_0x5220aa==_0x2986aa?_0x490f8b(0x1cc):'';_0xb37126+='<option\x20value=\x22'+_0x2986aa+'\x22\x20'+_0x1d337b+'>'+_0x2986aa+_0x490f8b(0x172);}),_0x17d07b(0x16d)+_0x20debe+_0x17d07b(0x1b6)+_0xb37126+_0x17d07b(0x179);}function _0x1294(){var _0x44b029=['name','sheetData','12px\x20Arial','fillStyle','submit','val','2008624dFNVKO','selected','rgb(35,\x20215,\x2086)','input[name=\x22indexRow\x22]','\x0a\x20\x20\x20\x20<label>Câp\x20nhật\x20tên\x20cũ\x20<b>','1962HUpGZJ','dialog','.btnDelSheet','data','</option>','749934tqeXGT','keys','filter','round','alwayShowTooltip','datasets','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20class=\x22form-control\x20ml-1\x22\x20type=\x22text\x22\x20required=\x22\x22\x20name=\x22name\x22\x20placeholder=\x22Tên\x20cần\x20đổi\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text','index','then','Xoá\x20dòng\x20này?','prefixname','Tên\x20chưa\x20có\x20trong\x20danh\x20sách','114618wCcrmM','.amoutbox>span','.amoutbox1>span','danh_sach_khach.jpeg','image/jpeg','rgb(15,\x2095,\x2086)','serializeArray','split','restore','indexr','input[name=\x22stt\x22]','sheetid','.form-new1','click','getElementById','map','2RSPeMh','values','myChart','join','.form-update','detail','length','input','.form-new','rgb(255,\x2099,\x20132)','button[type=\x22submit\x22]','update','warning','Tỷ\x20lệ','reduce','input[name=\x22amount1\x22]','rgb(95,\x2015,\x2086)','forEach','rgb(255,\x20205,\x2086)','37810uNOGWt','\x20khách','Vui\x20lòng\x20nhập\x20tên.','input[name=\x22amount\x22]','createElement','1109761QBizkn','rgb(155,\x20205,\x2086)','.btn-save-image','.btn-update-row','value','.btnUpdateName','body','save','rgb(225,\x2015,\x2086)','144rzfuvs','toUpperCase','left','707640OybleF','21878626FVxdBL','</b></label>\x0a\x20\x20\x20\x20<div\x20class=\x22d-flex\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<select\x20class=\x22form-control\x20mb-2\x20w-auto\x22\x20name=\x22prefixname\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','error','rgb(25,\x20115,\x2086)','appendChild','site','.name-search','find','labels','download','20lEFzGH','fillText','Tên\x20đã\x20có\x20rồi!','href','rgb(55,\x20105,\x2086)','confirm'];_0x1294=function(){return _0x44b029;};return _0x1294();}function calLabelDataChartFromSheet(_0x34f601){var _0x44a2a8=_0x54bc,_0x4dcbcf=_0x34f601['filter'](function(_0x4ae7fb){return _0x4ae7fb[0x3]&&!isNaN(_0x4ae7fb[0x3]);})[_0x44a2a8(0x18f)](function(_0x521062){return parseInt(_0x521062[0x3]);}),_0xebb4e5=_0x4dcbcf[_0x44a2a8(0x19e)](function(_0x3a4484,_0x186ff2){return _0x3a4484[_0x186ff2]=(_0x3a4484[_0x186ff2]||0x0)+0x1,_0x3a4484;},{});return _0xebb4e5;}function _0x54bc(_0x24533c,_0x81a28a){var _0x12944a=_0x1294();return _0x54bc=function(_0x54bc60,_0x25a0ef){_0x54bc60=_0x54bc60-0x16c;var _0x46c652=_0x12944a[_0x54bc60];return _0x46c652;},_0x54bc(_0x24533c,_0x81a28a);}function loadChart(_0x37af80){var _0x50210b=_0x54bc;const _0x49f927=document[_0x50210b(0x18e)](_0x50210b(0x192));var _0xe93e0d=calLabelDataChartFromSheet(_0x37af80),_0x1e9171=Object[_0x50210b(0x174)](_0xe93e0d)[_0x50210b(0x18f)](function(_0x5ae4b9){return[numberWithCommas(_0x5ae4b9)+'đ',_0xe93e0d[_0x5ae4b9]+'\x20khách'];});const _0x4fab79={'labels':_0x1e9171,'datasets':[{'label':_0x50210b(0x19d),'data':Object['values'](_0xe93e0d),'backgroundColor':[_0x50210b(0x199),'rgb(54,\x20162,\x20235)',_0x50210b(0x1a2),_0x50210b(0x1a9),'rgb(195,\x20205,\x2086)',_0x50210b(0x1c3),_0x50210b(0x1b0),_0x50210b(0x1b8),_0x50210b(0x185),_0x50210b(0x1a0),_0x50210b(0x1cd)],'hoverOffset':0x4}]};var _0x32af40={'plugins':{'tooltip':{'enabled':![]},'legend':{'position':_0x50210b(0x1b3),'labels':{'boxWidth':0xf,'boxHeight':0x14,'padding':0x5,'useBorderRadius':!![],'borderRadius':0x2}}}};const _0x24cedc={'id':_0x50210b(0x177),'afterDraw'(_0x36de2a,_0x382292,_0x148be7){var _0x4d6d34=_0x50210b;const {ctx:_0x3f2a9a}=_0x36de2a;_0x3f2a9a[_0x4d6d34(0x1af)](),_0x36de2a[_0x4d6d34(0x171)][_0x4d6d34(0x178)][_0x4d6d34(0x1a1)](function(_0x2d4e1e,_0x1895ec){var _0x14be90=_0x4d6d34,_0x10e458=_0x36de2a[_0x14be90(0x171)]['datasets'][_0x1895ec][_0x14be90(0x171)][_0x14be90(0x19e)](function(_0x296bbf,_0x41c330){return _0x296bbf+_0x41c330;},0x0);_0x36de2a['getDatasetMeta'](_0x1895ec)['data']['forEach'](function(_0x4f336e,_0x4bbacc){var _0xf24aec=_0x14be90;const {x:_0xf13f35,y:_0x56083d}=_0x4f336e['tooltipPosition']();var _0x21062f=Math[_0xf24aec(0x176)](_0x36de2a[_0xf24aec(0x171)][_0xf24aec(0x178)][_0x1895ec][_0xf24aec(0x171)][_0x4bbacc]/_0x10e458*0x64);const _0x4cab82=_0x21062f+'%';_0x3f2a9a[_0xf24aec(0x1c8)]='rgba(0,0,0,1)',_0x3f2a9a[_0xf24aec(0x1c0)](_0x4cab82,_0xf13f35,_0x56083d),_0x3f2a9a['font']=_0xf24aec(0x1c7),_0x3f2a9a[_0xf24aec(0x188)]();});});}};mchart=new Chart(_0x49f927,{'type':'pie','data':_0x4fab79,'options':_0x32af40,'plugins':[_0x24cedc]});}document['addEventListener']('evtLoadSheetData',_0x1460b0=>{var _0x45f294=_0x54bc,_0x5ac9f0=_0x1460b0[_0x45f294(0x195)][_0x45f294(0x1c6)];updateChart(_0x5ac9f0);});function updateChart(_0x2b5f52){var _0x30220d=_0x54bc;if(mchart){var _0x24c299=calLabelDataChartFromSheet(_0x2b5f52),_0x4e20a4=Object[_0x30220d(0x174)](_0x24c299)[_0x30220d(0x18f)](function(_0x175a43){var _0x969269=_0x30220d;return[numberWithCommas(_0x175a43)+'đ',_0x24c299[_0x175a43]+_0x969269(0x1a4)];});mchart[_0x30220d(0x171)][_0x30220d(0x1bd)]=_0x4e20a4,mchart[_0x30220d(0x171)][_0x30220d(0x178)][0x0][_0x30220d(0x171)]=Object[_0x30220d(0x191)](_0x24c299),mchart[_0x30220d(0x19b)]();}}$(document)['on'](_0x38a68c(0x18d),_0x38a68c(0x170),function(){var _0x4d8677=_0x38a68c,_0x2832c8=this,_0x5f4865=$(this)[_0x4d8677(0x171)](_0x4d8677(0x18b));vex['dialog'][_0x4d8677(0x1c4)]({'overlayClosesOnClick':![],'message':'Xoá\x20danh\x20sách?','callback':function(_0x584242){var _0xaa5183=_0x4d8677;_0x584242&&delSheet(_0x2832c8,_0x5f4865,$(_0xaa5183(0x1ae))[_0xaa5183(0x171)](_0xaa5183(0x1ba)));}});}),$(document)['on']('click','.btnDelRow',function(){var _0x8d81b9=_0x38a68c,_0x1d4ee1=this,_0x3e3586=$(this)[_0x8d81b9(0x171)](_0x8d81b9(0x17b));vex[_0x8d81b9(0x16f)][_0x8d81b9(0x1c4)]({'overlayClosesOnClick':![],'message':_0x8d81b9(0x17d),'callback':function(_0xec018d){_0xec018d&&delSheetRow(_0x1d4ee1,sheetId,_0x3e3586,loadSheetData);}});}),$(document)['on'](_0x38a68c(0x18d),_0x38a68c(0x1ad),function(){var _0x5a445f=_0x38a68c,_0x3f25f3=this,_0x37d2d2=$(this)[_0x5a445f(0x171)](_0x5a445f(0x17b)),_0xf5b64b=$(this)[_0x5a445f(0x171)](_0x5a445f(0x1c5));vex['dialog']['open']({'input':[prfixnamesSelect(prfixnames,_0xf5b64b)][_0x5a445f(0x193)](''),'callback':function(_0x18d393){var _0x38eb5e=_0x5a445f;_0x18d393?updateName($(_0x3f25f3),sheetname,_0x37d2d2,_0x18d393[_0x38eb5e(0x17e)],_0x18d393[_0x38eb5e(0x1c5)],loadSheetData):toastr[_0x38eb5e(0x1b7)](_0x38eb5e(0x1a5));}});}),$(_0x38a68c(0x198))['submit'](function(){var _0x5c497f=_0x38a68c,_0x328946=$(this)[_0x5c497f(0x1bc)](_0x5c497f(0x19a)),_0x47b88e=$(this)['serializeArray'](),_0x3c8ed3={'prefixname':_0x47b88e[0x2][_0x5c497f(0x1ac)],'name':_0x47b88e[0x3][_0x5c497f(0x1ac)],'sheetname':_0x47b88e[0x1][_0x5c497f(0x1ac)],'id':_0x47b88e[0x0][_0x5c497f(0x1ac)]},_0x340afd=sheetData[_0x5c497f(0x175)](function(_0x25f618){var _0x32b10b=_0x5c497f;return _0x25f618[0x1][_0x32b10b(0x1b2)]()==_0x3c8ed3[_0x32b10b(0x17e)]['toUpperCase']()&&_0x25f618[0x2][_0x32b10b(0x1b2)]()==_0x3c8ed3[_0x32b10b(0x1c5)]['toUpperCase']();});if(_0x340afd['length']>0x0)return toastr[_0x5c497f(0x19c)](_0x5c497f(0x1c1)),![];return addSheetRow(_0x328946,_0x3c8ed3,loadSheetData),![];}),$(_0x38a68c(0x18c))['submit'](function(){var _0x1a48ea=_0x38a68c,_0x30db99=$(this)[_0x1a48ea(0x1bc)]('button[type=\x22submit\x22]'),_0x1c851d=$(this)[_0x1a48ea(0x186)](),_0x477187={'prefixname':_0x1c851d[0x2]['value'],'name':_0x1c851d[0x3]['value'],'sheetname':_0x1c851d[0x1][_0x1a48ea(0x1ac)],'id':_0x1c851d[0x0][_0x1a48ea(0x1ac)],'amount':_0x1c851d[0x4][_0x1a48ea(0x1ac)]},_0x4d8561=sheetData[_0x1a48ea(0x175)](function(_0x1a6eaa){var _0x3ed383=_0x1a48ea;return _0x1a6eaa[0x1][_0x3ed383(0x1b2)]()==_0x477187[_0x3ed383(0x17e)]['toUpperCase']()&&_0x1a6eaa[0x2][_0x3ed383(0x1b2)]()==_0x477187[_0x3ed383(0x1c5)]['toUpperCase']();});if(_0x4d8561[_0x1a48ea(0x196)]>0x0)return toastr[_0x1a48ea(0x19c)](_0x1a48ea(0x1c1)),![];return addSheetRow(_0x30db99,_0x477187,loadSheetData),![];}),$(_0x38a68c(0x194))[_0x38a68c(0x1c9)](function(){var _0x43a756=_0x38a68c,_0x5075c3=$(_0x43a756(0x1ab)),_0x4243d0=$(this)[_0x43a756(0x186)](),_0x452bf5=_0x4243d0[0x0][_0x43a756(0x1ac)],_0x6956fa=_0x4243d0[0x1]['value'],_0x5608e9=_0x4243d0[0x2]['value'],_0x2815b5=_0x4243d0[0x3]['value'],_0x1e6794=sheetData[_0x43a756(0x175)](function(_0x583b67){return _0x583b67[0x0]==_0x6956fa;});return _0x1e6794[_0x43a756(0x196)]>0x0?updateSheetRow(_0x5075c3,_0x452bf5,_0x5608e9,_0x2815b5,loadSheetData):toastr[_0x43a756(0x19c)](_0x43a756(0x17f)),setTimeout(function(){var _0x5d695b=_0x43a756;$(_0x5d695b(0x1a6))['val'](''),$(_0x5d695b(0x18a))['val'](''),$('.name-search')['text']('');},0x1f4),![];}),$('.stt')['on'](_0x38a68c(0x197),function(){var _0x44dd89=_0x38a68c,_0x548229=$(this)[_0x44dd89(0x1ca)](),_0x1fae8e=sheetData[_0x44dd89(0x175)](function(_0x2e4add){return _0x2e4add[0x0]==_0x548229;});if(_0x1fae8e[_0x44dd89(0x196)]>0x0){$(_0x44dd89(0x1bb))[_0x44dd89(0x17a)](_0x1fae8e[0x0][0x1]+'\x20'+_0x1fae8e[0x0][0x2]);var _0x56e74d=$('#'+_0x548229)['data'](_0x44dd89(0x189));$('input[name=\x22indexRow\x22]')[_0x44dd89(0x1ca)](_0x56e74d);}else $(_0x44dd89(0x1bb))[_0x44dd89(0x17a)](''),$(_0x44dd89(0x16c))['val'](0x0);}),$(_0x38a68c(0x181))[_0x38a68c(0x18d)](function(){var _0x2b5f4e=_0x38a68c,_0x49ae55=$(this)[_0x2b5f4e(0x171)]('amount');$(_0x2b5f4e(0x1a6))[_0x2b5f4e(0x1ca)](_0x49ae55);}),$(_0x38a68c(0x182))[_0x38a68c(0x18d)](function(){var _0x24522c=_0x38a68c,_0x14b63b=$(this)[_0x24522c(0x171)]('amount');$(_0x24522c(0x19f))[_0x24522c(0x1ca)](_0x14b63b);}),$(_0x38a68c(0x1aa))[_0x38a68c(0x18d)](function(_0x1e9076){var _0x3ee587=_0x38a68c;html2canvas(document[_0x3ee587(0x18e)]('list-detail'))[_0x3ee587(0x17c)](function(_0xc51562){var _0x4c3576=_0x3ee587,_0x187528=document[_0x4c3576(0x1a7)]('a');_0x187528[_0x4c3576(0x1c2)]=_0xc51562['toDataURL'](_0x4c3576(0x184)),_0x187528[_0x4c3576(0x1be)]=_0x4c3576(0x183),document[_0x4c3576(0x1ae)][_0x4c3576(0x1b9)](_0x187528),_0x187528['click']();});}),loadSheetData(loadChart);