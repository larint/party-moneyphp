var _0x4a86ca=_0x43f5;(function(_0x3b02d4,_0x3e3aaa){var _0x581f81=_0x43f5,_0x452dff=_0x3b02d4();while(!![]){try{var _0x3c9ed7=parseInt(_0x581f81(0x1d0))/0x1*(parseInt(_0x581f81(0x1e4))/0x2)+-parseInt(_0x581f81(0x1eb))/0x3+-parseInt(_0x581f81(0x1fe))/0x4*(-parseInt(_0x581f81(0x1e0))/0x5)+parseInt(_0x581f81(0x209))/0x6+parseInt(_0x581f81(0x20a))/0x7*(-parseInt(_0x581f81(0x1f0))/0x8)+parseInt(_0x581f81(0x1f8))/0x9*(-parseInt(_0x581f81(0x1c5))/0xa)+parseInt(_0x581f81(0x205))/0xb;if(_0x3c9ed7===_0x3e3aaa)break;else _0x452dff['push'](_0x452dff['shift']());}catch(_0x19938c){_0x452dff['push'](_0x452dff['shift']());}}}(_0x3aac,0xe35a6));function _0x43f5(_0x20876c,_0x4bbe77){var _0x3aacfd=_0x3aac();return _0x43f5=function(_0x43f5b4,_0x455e6b){_0x43f5b4=_0x43f5b4-0x1ba;var _0x5ed2b3=_0x3aacfd[_0x43f5b4];return _0x5ed2b3;},_0x43f5(_0x20876c,_0x4bbe77);}var mchart;function prfixnamesSelect(_0x23f69f,_0x5b9779){var _0x31ef2d=_0x43f5,_0x4f206f=_0x5b9779['split'](':')[0x0],_0x5531b9='';return _0x23f69f['forEach'](function(_0x44ca2d){var _0x19db18=_0x43f5,_0x37c42f=_0x4f206f==_0x44ca2d?'selected':'';_0x5531b9+='<option\x20value=\x22'+_0x44ca2d+'\x22\x20'+_0x37c42f+'>'+_0x44ca2d+_0x19db18(0x1d2);}),_0x31ef2d(0x1bd)+_0x5b9779+_0x31ef2d(0x1cb)+_0x5531b9+_0x31ef2d(0x1bb);}function _0x3aac(){var _0x20e5e3=['body','6757392NqCUsE','1559887mJpycm','rgb(225,\x2015,\x2086)','prefixname','map','input[name=\x22indexRow\x22]','index','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20class=\x22form-control\x20ml-1\x22\x20type=\x22text\x22\x20required=\x22\x22\x20name=\x22name\x22\x20placeholder=\x22Tên\x20cần\x20đổi\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','keys','\x0a\x20\x20\x20\x20<label>Câp\x20nhật\x20tên\x20cũ\x20<b>','myChart','submit','val','indexr','input[name=\x22amount\x22]','font','length','2629610HOjkJi','rgb(15,\x2095,\x2086)','labels','Xoá\x20dòng\x20này?','rgb(54,\x20162,\x20235)','input[name=\x22amount1\x22]','</b></label>\x0a\x20\x20\x20\x20<div\x20class=\x22d-flex\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<select\x20class=\x22form-control\x20mb-2\x20w-auto\x22\x20name=\x22prefixname\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join','rgb(35,\x20215,\x2086)','\x20khách','update','131JcWEZy','getElementById','</option>','site','.form-new1','amount','.amoutbox>span','find','sheetid','evtLoadSheetData','.form-new','filter','open','reduce','rgb(155,\x20205,\x2086)','Vui\x20lòng\x20nhập\x20tên.','10VyelFM','button[type=\x22submit\x22]','left','.btnUpdateName','11516FJWIBu','Tên\x20đã\x20có\x20rồi!','click','name','rgb(255,\x2099,\x20132)','Xoá\x20danh\x20sách?','warning','2314938cdHspc','rgb(55,\x20105,\x2086)','serializeArray','.stt','.name-search','48ylYSfu','forEach','Tỷ\x20lệ','text','rgb(195,\x20205,\x2086)','fillStyle','.btnDelSheet','.btnDelRow','9mbrNTM','input[name=\x22stt\x22]','values','toUpperCase','input','datasets','1188780EQcjCe','.form-update','data','.amoutbox1>span','dialog','restore','value','9107681EUPUWn','getDatasetMeta','pie'];_0x3aac=function(){return _0x20e5e3;};return _0x3aac();}function calLabelDataChartFromSheet(_0x31b8e8){var _0x3977c3=_0x43f5,_0x374b4f=_0x31b8e8[_0x3977c3(0x1db)](function(_0xe81ce4){return _0xe81ce4[0x3]&&!isNaN(_0xe81ce4[0x3]);})['map'](function(_0x44a709){return parseInt(_0x44a709[0x3]);}),_0x4f22e8=_0x374b4f['reduce'](function(_0x3631bc,_0x5a0576){return _0x3631bc[_0x5a0576]=(_0x3631bc[_0x5a0576]||0x0)+0x1,_0x3631bc;},{});return _0x4f22e8;}function loadChart(_0x478820){var _0x2ff40e=_0x43f5;const _0x32b05a=document[_0x2ff40e(0x1d1)](_0x2ff40e(0x1be));var _0x5cb8bb=calLabelDataChartFromSheet(_0x478820),_0x20bbc5=Object['keys'](_0x5cb8bb)['map'](function(_0x5f5403){var _0x2e9b60=_0x2ff40e;return[numberWithCommas(_0x5f5403)+'đ',_0x5cb8bb[_0x5f5403]+_0x2e9b60(0x1ce)];});const _0x578c0e={'labels':_0x20bbc5,'datasets':[{'label':_0x2ff40e(0x1f2),'data':Object[_0x2ff40e(0x1fa)](_0x5cb8bb),'backgroundColor':[_0x2ff40e(0x1e8),_0x2ff40e(0x1c9),'rgb(255,\x20205,\x2086)',_0x2ff40e(0x1de),_0x2ff40e(0x1f4),_0x2ff40e(0x1ec),_0x2ff40e(0x20b),'rgb(25,\x20115,\x2086)',_0x2ff40e(0x1c6),'rgb(95,\x2015,\x2086)',_0x2ff40e(0x1cd)],'hoverOffset':0x4}]};var _0x19d318={'plugins':{'tooltip':{'enabled':![]},'legend':{'position':_0x2ff40e(0x1e2),'labels':{'boxWidth':0xf,'boxHeight':0x14,'padding':0x5,'useBorderRadius':!![],'borderRadius':0x2}}}};const _0x482ec2={'id':'alwayShowTooltip','afterDraw'(_0x5e1c9c,_0x5ba144,_0x40cb4b){var _0x2460e4=_0x2ff40e;const {ctx:_0x3431d3}=_0x5e1c9c;_0x3431d3['save'](),_0x5e1c9c[_0x2460e4(0x200)][_0x2460e4(0x1fd)][_0x2460e4(0x1f1)](function(_0x453ecf,_0x1c5a13){var _0x2951fd=_0x2460e4,_0x566077=_0x5e1c9c['data']['datasets'][_0x1c5a13][_0x2951fd(0x200)][_0x2951fd(0x1dd)](function(_0x8c2284,_0x33a23d){return _0x8c2284+_0x33a23d;},0x0);_0x5e1c9c[_0x2951fd(0x206)](_0x1c5a13)[_0x2951fd(0x200)][_0x2951fd(0x1f1)](function(_0x20a1f8,_0x23696d){var _0x2a181e=_0x2951fd;const {x:_0x19062a,y:_0x20cf26}=_0x20a1f8['tooltipPosition']();var _0x316942=Math['round'](_0x5e1c9c[_0x2a181e(0x200)][_0x2a181e(0x1fd)][_0x1c5a13][_0x2a181e(0x200)][_0x23696d]/_0x566077*0x64);const _0x371ceb=_0x316942+'%';_0x3431d3[_0x2a181e(0x1f5)]='rgba(0,0,0,1)',_0x3431d3['fillText'](_0x371ceb,_0x19062a,_0x20cf26),_0x3431d3[_0x2a181e(0x1c3)]='12px\x20Arial',_0x3431d3[_0x2a181e(0x203)]();});});}};mchart=new Chart(_0x32b05a,{'type':_0x2ff40e(0x207),'data':_0x578c0e,'options':_0x19d318,'plugins':[_0x482ec2]});}document['addEventListener'](_0x4a86ca(0x1d9),_0x3f0710=>{var _0x197dc6=_0x3f0710['detail']['sheetData'];updateChart(_0x197dc6);});function updateChart(_0x46331f){var _0x28f3f3=_0x4a86ca;if(mchart){var _0x42a363=calLabelDataChartFromSheet(_0x46331f),_0x3ed3aa=Object[_0x28f3f3(0x1bc)](_0x42a363)[_0x28f3f3(0x20d)](function(_0x876ee1){var _0x1da1b6=_0x28f3f3;return[numberWithCommas(_0x876ee1)+'đ',_0x42a363[_0x876ee1]+_0x1da1b6(0x1ce)];});mchart[_0x28f3f3(0x200)][_0x28f3f3(0x1c7)]=_0x3ed3aa,mchart['data'][_0x28f3f3(0x1fd)][0x0][_0x28f3f3(0x200)]=Object[_0x28f3f3(0x1fa)](_0x42a363),mchart[_0x28f3f3(0x1cf)]();}}$(document)['on'](_0x4a86ca(0x1e6),_0x4a86ca(0x1f6),function(){var _0x89ea91=_0x4a86ca,_0x5d415a=this,_0x510779=$(this)[_0x89ea91(0x200)](_0x89ea91(0x1d8));vex[_0x89ea91(0x202)]['confirm']({'overlayClosesOnClick':![],'message':_0x89ea91(0x1e9),'callback':function(_0x493074){var _0x1d4e05=_0x89ea91;_0x493074&&delSheet(_0x5d415a,_0x510779,$(_0x1d4e05(0x208))['data'](_0x1d4e05(0x1d3)));}});}),$(document)['on'](_0x4a86ca(0x1e6),_0x4a86ca(0x1f7),function(){var _0x18cf1b=_0x4a86ca,_0x376cea=this,_0x9afe8e=$(this)[_0x18cf1b(0x200)](_0x18cf1b(0x1ba));vex['dialog']['confirm']({'overlayClosesOnClick':![],'message':_0x18cf1b(0x1c8),'callback':function(_0x47683e){_0x47683e&&delSheetRow(_0x376cea,sheetId,_0x9afe8e,loadSheetData);}});}),$(document)['on'](_0x4a86ca(0x1e6),_0x4a86ca(0x1e3),function(){var _0x264e1f=_0x4a86ca,_0x471814=this,_0x12a9ec=$(this)['data'](_0x264e1f(0x1ba)),_0x21a577=$(this)[_0x264e1f(0x200)](_0x264e1f(0x1e7));vex[_0x264e1f(0x202)][_0x264e1f(0x1dc)]({'input':[prfixnamesSelect(prfixnames,_0x21a577)][_0x264e1f(0x1cc)](''),'callback':function(_0x11bfcc){var _0x1fd7d9=_0x264e1f;_0x11bfcc?updateName($(_0x471814),sheetname,_0x12a9ec,_0x11bfcc[_0x1fd7d9(0x20c)],_0x11bfcc[_0x1fd7d9(0x1e7)],loadSheetData):toastr['error'](_0x1fd7d9(0x1df));}});}),$(_0x4a86ca(0x1da))['submit'](function(){var _0x4a0b49=_0x4a86ca,_0x3b209b=$(this)['find'](_0x4a0b49(0x1e1)),_0x5dc968=$(this)[_0x4a0b49(0x1ed)](),_0x2b013b={'prefixname':_0x5dc968[0x2]['value'],'name':_0x5dc968[0x3][_0x4a0b49(0x204)],'sheetname':_0x5dc968[0x1][_0x4a0b49(0x204)],'id':_0x5dc968[0x0][_0x4a0b49(0x204)]},_0x29ef7a=sheetData[_0x4a0b49(0x1db)](function(_0x5912cc){var _0x3000bf=_0x4a0b49;return _0x5912cc[0x1]['toUpperCase']()==_0x2b013b[_0x3000bf(0x20c)][_0x3000bf(0x1fb)]()&&_0x5912cc[0x2]['toUpperCase']()==_0x2b013b[_0x3000bf(0x1e7)][_0x3000bf(0x1fb)]();});if(_0x29ef7a[_0x4a0b49(0x1c4)]>0x0)return toastr[_0x4a0b49(0x1ea)](_0x4a0b49(0x1e5)),![];return addSheetRow(_0x3b209b,_0x2b013b,loadSheetData),![];}),$(_0x4a86ca(0x1d4))[_0x4a86ca(0x1bf)](function(){var _0x33b721=_0x4a86ca,_0x3467c4=$(this)[_0x33b721(0x1d7)]('button[type=\x22submit\x22]'),_0x2d812e=$(this)['serializeArray'](),_0x156e6e={'prefixname':_0x2d812e[0x2][_0x33b721(0x204)],'name':_0x2d812e[0x3][_0x33b721(0x204)],'sheetname':_0x2d812e[0x1][_0x33b721(0x204)],'id':_0x2d812e[0x0]['value'],'amount':_0x2d812e[0x4][_0x33b721(0x204)]},_0x1db24a=sheetData[_0x33b721(0x1db)](function(_0x4b045e){var _0x9fa766=_0x33b721;return _0x4b045e[0x1]['toUpperCase']()==_0x156e6e[_0x9fa766(0x20c)][_0x9fa766(0x1fb)]()&&_0x4b045e[0x2][_0x9fa766(0x1fb)]()==_0x156e6e['name'][_0x9fa766(0x1fb)]();});if(_0x1db24a[_0x33b721(0x1c4)]>0x0)return toastr[_0x33b721(0x1ea)](_0x33b721(0x1e5)),![];return addSheetRow(_0x3467c4,_0x156e6e,loadSheetData),![];}),$(_0x4a86ca(0x1ff))[_0x4a86ca(0x1bf)](function(){var _0x3cf44e=_0x4a86ca,_0x518972=$('.btn-update-row'),_0x3a45fa=$(this)[_0x3cf44e(0x1ed)](),_0x408869=_0x3a45fa[0x0][_0x3cf44e(0x204)],_0x22e429=_0x3a45fa[0x1]['value'],_0x175342=_0x3a45fa[0x2][_0x3cf44e(0x204)],_0x1f1ae8=_0x3a45fa[0x3][_0x3cf44e(0x204)],_0x1ef16d=sheetData[_0x3cf44e(0x1db)](function(_0x3bd6ec){return _0x3bd6ec[0x0]==_0x22e429;});return _0x1ef16d[_0x3cf44e(0x1c4)]>0x0?updateSheetRow(_0x518972,_0x408869,_0x175342,_0x1f1ae8,loadSheetData):toastr[_0x3cf44e(0x1ea)]('Tên\x20chưa\x20có\x20trong\x20danh\x20sách'),setTimeout(function(){var _0x24de8d=_0x3cf44e;$(_0x24de8d(0x1c2))[_0x24de8d(0x1c0)](''),$(_0x24de8d(0x1f9))[_0x24de8d(0x1c0)](''),$('.name-search')[_0x24de8d(0x1f3)]('');},0x1f4),![];}),$(_0x4a86ca(0x1ee))['on'](_0x4a86ca(0x1fc),function(){var _0x2d164e=_0x4a86ca,_0x120f3a=$(this)[_0x2d164e(0x1c0)](),_0x19b48d=sheetData[_0x2d164e(0x1db)](function(_0x2bf0f7){return _0x2bf0f7[0x0]==_0x120f3a;});if(_0x19b48d[_0x2d164e(0x1c4)]>0x0){$(_0x2d164e(0x1ef))[_0x2d164e(0x1f3)](_0x19b48d[0x0][0x1]+'\x20'+_0x19b48d[0x0][0x2]);var _0x2b8dad=$('#'+_0x120f3a)[_0x2d164e(0x200)](_0x2d164e(0x1c1));$(_0x2d164e(0x20e))['val'](_0x2b8dad);}else $(_0x2d164e(0x1ef))[_0x2d164e(0x1f3)](''),$(_0x2d164e(0x20e))['val'](0x0);}),$(_0x4a86ca(0x1d6))['click'](function(){var _0x43fed4=_0x4a86ca,_0x417eca=$(this)['data'](_0x43fed4(0x1d5));$(_0x43fed4(0x1c2))[_0x43fed4(0x1c0)](_0x417eca);}),$(_0x4a86ca(0x201))[_0x4a86ca(0x1e6)](function(){var _0x19625a=_0x4a86ca,_0x544957=$(this)[_0x19625a(0x200)](_0x19625a(0x1d5));$(_0x19625a(0x1ca))[_0x19625a(0x1c0)](_0x544957);}),loadSheetData(loadChart);